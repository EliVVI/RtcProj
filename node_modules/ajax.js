function XHR(url, callback){
	function getXmlHttp(){
		var xmlhttp;
		try{
			xmlhttp = new ActiveXObject("Msxml2.XMLHTTP");
		}catch(e){
			try{
				xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
			}catch(E){
				xmlhttp = false;
			}
		}
		if(!xmlhttp && typeof XMLHttpRequest != 'undefined'){
			xmlhttp = new XMLHttpRequest();
		}
		return xmlhttp;
	};
	this.callback = callback;
	this.xhr = getXmlHttp();
	this.url = url;
	this.xhr.onreadystatechange = function(){
		if(this.xhr.readyState == 4){
			if(this.xhr.status == 200){
				callback(this.xhr.responseText);
			}
		}
	};
	this.open();
}

XHR.prototype.open = function(){
	this.xhr.open("GET", this.url, true);
}

XHR.prototype.send = function(){
	this.xhr.send(null);
}

exports.getXHR = function(url, callback){
	return new XHR(url, callback);
}